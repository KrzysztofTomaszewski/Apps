//---------------------------------------------------------------------------

#include <vcl.h>
#pragma hdrstop

#include "Unit1.h"
//---------------------------------------------------------------------------
#pragma package(smart_init)
#pragma resource "*.dfm"
TForm1 *Form1;

int x=-8, y=-8, do_wygranej=12;

bool kolizja(TImage * pilka, TImage * cegla)
{
        ;
}

//---------------------------------------------------------------------------
__fastcall TForm1::TForm1(TComponent* Owner)
        : TForm(Owner)
{
}
//---------------------------------------------------------------------------

void __fastcall TForm1::Timer_pilkaTimer(TObject *Sender)
{
        b->Left+=x;
        b->Top+=y;

        //odbijanie od lewej sciany
        if(b->Left<=tlo->Left) x=-x;

        //odbibjanie od gornej sciany
        if(b->Top<=tlo->Top) y=-y;

        //Odbijanie od prawej sciany
        if(b->Left+b->Width+5>=tlo->Width) x=-x;

        //Skucha
        if(b->Top>=paddle->Top+paddle->Height-5)
        {
                Timer_pilka->Enabled=false;
                b->Visible=false;
                Button1->Caption="Porazka....Jeszcze raz?";
                Button1->Visible=true;
        }
        else if(b->Left>paddle->Left-b->Width/2 && b->Left<paddle->Left+paddle->Width &&
                b->Top+b->Height >paddle->Top)
        {
                if(y>0) y=-y;
        }
        if(do_wygranej<=0)
        {
                Timer_pilka->Enabled=false;
                b->Visible=false;
                Button1->Caption="Wygrana! Jeszcze raz?";
                Button1->Visible=true;
        }

        //blok1
        if(kolizja(b,Image1) && Image1->Visible==true)
        {
                x=-x;
                y=-y;
                Image1->Visible=false;
                do_wygranej--;
        }
}
//---------------------------------------------------------------------------
void __fastcall TForm1::lewoTimer(TObject *Sender)
{
        if(paddle->Left>10) paddle->Left-=20;
}
//---------------------------------------------------------------------------
void __fastcall TForm1::prawoTimer(TObject *Sender)
{
        if(paddle->Left+paddle->Width<tlo->Width-10) paddle->Left+=20;
}
//---------------------------------------------------------------------------
void __fastcall TForm1::FormKeyDown(TObject *Sender, WORD &Key,
      TShiftState Shift)
{
        if(Key==VK_LEFT) lewo->Enabled=true;
        if(Key==VK_RIGHT) prawo->Enabled=true;
}
//---------------------------------------------------------------------------
void __fastcall TForm1::FormKeyUp(TObject *Sender, WORD &Key,
      TShiftState Shift)
{
        if(Key==VK_LEFT) lewo->Enabled=false;
        if(Key==VK_RIGHT) prawo->Enabled=false;
}
//---------------------------------------------------------------------------
void __fastcall TForm1::Button1Click(TObject *Sender)
{
        b->Left=50;
        b->Top=50;
        b->Visible=true;
        x=-8;
        y=-8;
        Timer_pilka->Enabled=true;
        Button1->Visible=false;
        do_wygranej=12;

        Image1->Visible=true;   Image2->Visible=true;
        Image3->Visible=true;   Image4->Visible=true;
        Image5->Visible=true;   Image6->Visible=true;
        Image7->Visible=true;   Image8->Visible=true;
        Image9->Visible=true;   Image10->Visible=true;
        Image11->Visible=true;   Image12->Visible=true;
}
//---------------------------------------------------------------------------
